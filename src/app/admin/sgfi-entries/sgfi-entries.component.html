<div class="tab">
    <button [ngClass]="isAddStudent ? 'isMenuActive' : '' "  (click)="onloadMenu(0)" class="tablinks" >Add Student</button>
    <button [ngClass]="isViewStudent ? 'isMenuActive' : '' " (click)="onloadMenu(1)"  class="tablinks">View Student</button>
</div>
<div>
<div class="ui-g-12">
    <div class="ui-g-4">
      <p-dropdown  [options]="yearOptions" [(ngModel)]="selectedYear"  placeholder="Select Year" (onChange)="onyeareChange($event)" [style]="{'min-width':'140px'}"></p-dropdown>
    </div>
    <div class="ui-g-4">
        <p-dropdown [disabled]="!gameReadble"  [(ngModel)]="selectedGame" (onChange)="loadGameChange($event)" [options]="gameOptions"  size="30" ></p-dropdown>
    </div>
    <div class="ui-g-4">
        <p-multiSelect 
        [disabled]="!subGameReadable" 
        [(ngModel)]="selectedSubGame" 
        [options]="subgameOptions" 
        placeholder="Select Sub Game" 
        (onChange)="loadSubGameChange($event)"
        [panelStyle]="{minWidth:'12em'}">
   </p-multiSelect>  
        <!-- <p-dropdown 
             [disabled]="!subGameReadable" 
             [(ngModel)]="selectedSubGame" 
             [options]="subgameOptions" 
             placeholder="Select Sub Game" 
             (onChange)="loadSubGameChange($event)" 
              [style]="{'min-width':'140px'}">
        </p-dropdown> -->
    </div>

</div>
<p-toast [style]="{marginTop: '50px'}"  styleClass="toast-body custom-toast" key="custom" position="bottom-center"></p-toast>
<div>
<div class="ui-g-12">
<div class="ui-g-4">
    <p-dropdown [disabled]="!ageReadble" [(ngModel)]="selectedAge" [options]="ageOptions" (onChange)="loadAgeChange($event)" placeholder="Select Age"  [style]="{'min-width':'20px'}"></p-dropdown>
  </div>
  <div class="ui-g-4">
    <p-dropdown  [disabled]="!genderReadble"  [(ngModel)]="selectedGender"  [options]="genderOptions"  placeholder="Select Gender" (onChange)="loadGenderChange($event)" [style]="{'min-width':'20px'}"></p-dropdown>
  </div>
  <div class="ui-g-4">
    <p-dropdown *ngIf="isAddStudent" [disabled]="!schoolReadble" [(ngModel)]="selectedSchool"  (onChange)="loadSchoolChange($event)" [options]="schoolOptions"  placeholder="Select School" [style]="{'min-width':'140px'}"></p-dropdown>
  </div>
</div>
</div>
 
<div class="accordion" id="accordionExample">
  <div class="ui-g-12" *ngIf="studentRecordLength > 0">
   <div class="card">
     <div class="card-header card-bg" id="headingTwo">
       <h5 class="mb-0">
         <div class="floatLeft">ALREADY ADDED RECORDS</div>
         <div class="btn btn-link collapsed float-right"  data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
           <i class="fa-solid fa-plus"></i>
           <i class="fa-regular fa-plus"></i>
           <i class="fas fa-plus"></i>
         </div>
        
       </h5>
     </div>
     <div id="collapseTwo" class="collapse align-table" aria-labelledby="headingTwo" data-parent="#accordionExample">
       <table class="table">
         <thead class="thead-dark">
           <tr>
             <th scope="col">Student Id</th>
             <th scope="col">Student Name</th>
             <th scope="col">School Name</th>
             <th scope="col">Action</th>
          </tr>
         </thead>
         <tbody>
           <tr *ngFor="let student of alreadyAddedStudentList; let i = index;">
             <td>{{student.sId}}</td>
             <td>{{student.studentName}}</td>
             <td>{{student.schoolName}}</td>
             <td>
               <div class="icons-wrap">
                 <button href="#" class="glyphicon glyphicon-trash item-icons" (click)="confirmDeleteStudent(student.id)">
               </button>
            </div>
              </td> 
           </tr>
         </tbody>
       </table>
     </div>
   </div>

</div>


</div>
<div  class="ui-g-12 align-box" *ngIf="isShowStudent">
  <div class="card-header card-bg" id="headingTwo">
    <div class="ui-g-6">ADD NEW STUDENT</div>
    <div class="ui-g-6">Total Selected student: {{sgfiStudentArray.length}}</div>
  </div>
  
<div class="ui-g-4">
  <div class="ui-g-12 align-merit-content">
          <table class="table"  [ngClass]="{ 'hide-table':studentData.length ==0 }">
            <thead class="thead-dark">
              <tr>
                <th scope="col">Student Name</th>
                <th scope="col">Sub Game Name</th>
                <th scope="col">Action</th>
            </tr>
            </thead>
            <tbody>
              <tr *ngFor="let student of studentData; let i = index;">
                <td>{{student.studentName}}</td>
                <td>{{student.subGameName == 'undefined' ? 'N/A' : 'student.subGameName'}}</td>
                <td>
                  <p-button class="align-submit"   label="Add" (click)="addStudent(student)">
                  </p-button>
                </td> 
              </tr>
            </tbody>
          </table>
    </div>
</div>
<div class="ui-g-8">
    <div class="ui-g-12 align-merit-content"  *ngIf="sgfiStudentArray.length > 0">
           <table class="table">
              <thead class="thead-dark">
                <tr>
                  <th scope="col">Student Name</th>
                  <th scope="col">Game Name</th>
                  <th scope="col">Sub Game Name</th>
                  <th scope="col">Age</th>
                  <th scope="col">Gender</th>
                  <th scope="col">School Name</th>
                  <th scope="col">Action</th>
               </tr>
              </thead>
              <tbody>
                <tr *ngFor="let student of sgfiStudentArray; let i = index;">
                  <td>{{student.studentName}}</td>
                  <td>{{student.gameName}}</td>
                  <td><span *ngIf="student.subGameName == 'undefined'">N/A</span><span *ngIf="student.subGameName !== 'undefined'">{{student.subGameName}}</span></td>
                  <td>{{student.agerange}}</td>
                  <td><span *ngIf="student.genderId == '1'">Boys</span> <span *ngIf="student.genderId == '2'">Girls</span></td>
                  <td>{{student.schoolName}}</td>
                  <td>
                    <div class="icons-wrap">
                      <button href="#" class="glyphicon glyphicon-trash item-icons" (click)="removeStudnetData(i)">
                    </button>
                 </div>
                   </td> 
                </tr>
              </tbody>
            </table>
            <button  class="btn btn-primary marginR10" type="button" (click)="confirmAddStudent()">Save</button>
      </div>
</div>
</div>
</div>
 

 
<div class="ui-g-12 align-merit-content" *ngIf="enrolledStudentRecordLength > 0">
  <table class="table"  [ngClass]="{ 'hide-table':enrolledStudentData.length ==0 }">
    <thead class="thead-dark">
      <tr>
        <th scope="col">Student Name</th>
        <th scope="col">Game Name</th>
        <th scope="col">Age</th>
        <th scope="col">Gender</th>
        <th scope="col">School</th>
        <th scope="col">Status</th>
    </tr>
    </thead>
    <tbody>
      <tr *ngFor="let student of enrolledStudentData; let i = index;">
        <td>{{student.studentName}}</td>
        <td>{{student.gameName}}</td>
        <td>{{student.ageRange}}</td>
        <td> {{student.gender == '1' ? 'Boys' : 'Girls'}}</td>
        <td>{{student.schoolName}}</td>
        <td> 
          <span class="plain-button btn btn-success" *ngIf="student.isDocUpdate == '1' && student.isPaid == '1'"> Completed</span>
          <span class="plain-button btn btn-warning" *ngIf="student.isDocUpdate == '1' ||  student.isPaid == '1'">In Progress</span>
          <span class="plain-button btn btn-danger" *ngIf="student.isDocUpdate == '0' &&  student.isPaid == '0'"> Pending</span>
        </td>
      </tr>
    </tbody>
  </table>
</div>
<p-confirmDialog key="confirm-delete-student" header="Delete SGFI Student" acceptLabel="Yes" rejectLabel="No"></p-confirmDialog>
<p-confirmDialog key="confirm-add-student" header="Add SGFI Student" acceptLabel="Yes" rejectLabel="No"></p-confirmDialog>

