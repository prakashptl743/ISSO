<div class="container mt-4">
  <div class="card shadow-lg p-4">
    <h2 class="text-center text-primary mb-4">ðŸŽ“ Student Enrollment Form</h2>

    <form [formGroup]="studentForm" (ngSubmit)="onSubmit()">
      <div class="row">
        <div class="col-md-6 mb-3">
          <label class="form-label fw-bold">Student Name</label>
          <input
            type="text"
            class="form-control"
            formControlName="studentName"
            (blur)="studentForm.controls.studentName.markAsTouched()"
            placeholder="Enter student name"
          />
          <div
            class="text-danger"
            *ngIf="
              studentForm.controls.studentName.touched &&
              studentForm.controls.studentName.invalid
            "
          >
            Name is required (min 3 characters).
          </div>
        </div>

        <div class="col-md-6 mb-3">
          <label class="form-label fw-bold">Father Name</label>
          <input
            type="text"
            class="form-control"
            formControlName="fatherName"
            (blur)="studentForm.controls.fatherName.markAsTouched()"
            placeholder="Enter father's name"
          />
          <div
            class="text-danger"
            *ngIf="
              studentForm.controls.fatherName.touched &&
              studentForm.controls.fatherName.invalid
            "
          >
            Father name is required (min 3 characters).
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6 mb-3">
          <label class="form-label fw-bold">Admission No</label>
          <input
            type="text"
            class="form-control"
            formControlName="admissionNo"
            (blur)="studentForm.controls.admissionNo.markAsTouched()"
            placeholder="Enter admission number"
          />
          <div
            class="text-danger"
            *ngIf="
              studentForm.controls.admissionNo.touched &&
              studentForm.controls.admissionNo.invalid
            "
          >
            Admission No should be alphanumeric.
          </div>
        </div>

        <div class="col-md-6 mb-3">
          <label class="form-label fw-bold">Date of Birth</label>
          <input type="date" class="form-control" formControlName="dob" />
        </div>
      </div>

      <div class="row">
        <div class="col-md-6 mb-3">
          <label class="form-label fw-bold">Class</label>
          <select class="form-select select-val" formControlName="class">
            <option value="">Select Class</option>
            <option *ngFor="let c of classes" [value]="c">{{ c }}</option>
          </select>
        </div>

        <div class="col-md-6 mb-3">
          <label class="form-label fw-bold">Aadhar No</label>
          <input
            type="text"
            class="form-control"
            formControlName="adharNo"
            (blur)="studentForm.controls.adharNo.markAsTouched()"
            placeholder="Enter Aadhar number"
          />
          <div
            class="text-danger"
            *ngIf="
              studentForm.controls.adharNo.touched &&
              studentForm.controls.adharNo.invalid
            "
          >
            Aadhar No must be 12 digits.
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6 mb-3">
          <label class="form-label fw-bold">Contact No</label>
          <input
            type="text"
            class="form-control"
            formControlName="contactNo"
            (blur)="studentForm.controls.contactNo.markAsTouched()"
            placeholder="Enter contact number"
          />
          <div
            class="text-danger"
            *ngIf="
              studentForm.controls.contactNo.touched &&
              studentForm.controls.contactNo.invalid
            "
          >
            Contact No must be 10 digits.
          </div>
        </div>

        <div class="col-md-6 mb-3">
          <label class="form-label fw-bold">Select Game</label>
          <select class="form-select select-val" formControlName="game">
            <option value="">Select Game</option>
            <option *ngFor="let g of games" [value]="g">{{ g }}</option>
          </select>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6 mb-3">
          <label class="form-label fw-bold">T-Shirt Size</label>
          <select class="form-select select-val" formControlName="tshirtSize">
            <option value="">Select Size</option>
            <option *ngFor="let size of tshirtSizes" [value]="size">
              {{ size }}
            </option>
          </select>
        </div>

        <div class="col-md-6 mb-3">
          <label class="form-label fw-bold">Curriculum</label>
          <textarea
            class="form-control"
            formControlName="curriculum"
            placeholder="Enter curriculum details"
          ></textarea>
        </div>
      </div>

      <div class="row">
        <div class="col-md-12 mb-3">
          <label class="form-label fw-bold">Upload Photo</label>
          <input
            type="file"
            class="form-control"
            accept="image/png, image/jpeg"
            (change)="onFileSelect($event)"
          />
          <small class="text-danger" *ngIf="fileError">{{ fileError }}</small>
          <div class="text-center mt-2" *ngIf="imagePreview">
            <img [src]="imagePreview" class="img-thumbnail" width="120" />
          </div>
        </div>
      </div>

      <div class="text-center">
        <button
          type="submit"
          class="btn btn-primary btn-lg w-50"
          [disabled]="!isFormValid"
        >
          <i class="bi bi-send-fill"></i> Submit
        </button>
      </div>
    </form>
  </div>
</div>

<p-toast
  [style]="{ marginTop: '50px' }"
  styleClass="custom-toast"
  key="custom"
  position="bottom-center"
></p-toast>
